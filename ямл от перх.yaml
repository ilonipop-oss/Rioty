port: 7890
socks-port: 7891
allow-lan: true
mode: rule
log-level: info
ipv6: false

# --- –ü–†–û–ö–°–ò –ò–°–¢–û–ß–ù–ò–ö–ò ---
proxy-providers:
  vless_servers:
    type: file
    path: ./proxies.yaml
    interval: 3600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300

# --- –ì–†–£–ü–ü–´ –ü–†–û–ö–°–ò ---
proxy-groups:
  - name: "üöÄ –ê–≤—Ç–æ-–≤—ã–±–æ—Ä"
    type: url-test
    use:
      - vless_servers
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50

  - name: "üî∞ –í—ã–±–æ—Ä –≤—Ä—É—á–Ω—É—é"
    type: select
    proxies:
      - "üöÄ –ê–≤—Ç–æ-–≤—ã–±–æ—Ä"
      - DIRECT
    use:
      - vless_servers

# --- –ü–†–û–í–ê–ô–î–ï–†–´ –ü–†–ê–í–ò–õ (CIDR –†–§) ---
rule-providers:
  russia_white_list:
    type: http
    behavior: ipcidr
    url: "https://raw.githubusercontent.com/igareck/vpn-configs-for-russia/main/white-lists/white-cidr-ru.txt"
    path: ./ruleset/russia_white_list.yaml
    interval: 86400

# --- –ü–†–ê–í–ò–õ–ê ---
rules:
  # –µ—Å–ª–∏ CN –Ω–µ –Ω—É–∂–µ–Ω ‚Äî —É–¥–∞–ª–∏ —Å—Ç—Ä–æ—á–∫—É
  - GEOIP,CN,DIRECT
  - RULE-SET,russia_white_list,DIRECT
  - MATCH,üî∞ –í—ã–±–æ—Ä –≤—Ä—É—á–Ω—É—é